<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f5f5f5;
        }

        body.dark {
            background-color: #222;
            color: white;
        }

        body.dark .setting-item {
            background-color: #333;
        }

        body.small { font-size: 14px; }
        body.medium { font-size: 16px; }
        body.large { font-size: 20px; }

        header {
            background-color:#9356f5;
            color: white;
            padding: 15px;
            text-align: center;
        }

        nav {
            background-color: #333;
            padding: 10px;
            text-align: center;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
        }

        nav a:hover {
            color: yellow;
        }

        .content {
            padding: 20px;
        }

        .setting-item {
            background-color: white;
            padding: 10px 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body>
    <header>
        <h1>Eli's Chinese Takeaway</h1>
        <h4>Welcome to Eli's Chinese Takeaway, the only Chinese Takeaway which does not exist but we are trying to make it exist.</h4>
    </header>

    <nav>
        <a href="index.html">Home</a>
        <a href="dishes.html">Dishes</a>
        <a href="settings.html">Settings</a>
        <a href="membership.html">Membership</a>
    </nav>

    <main class="content">
        <h2>Settings</h2>

        <div class="setting-item">
            <label>Dark Mode</label>
            <input type="checkbox" id="darkMode">
        </div>
        <div class="setting-item">
            <label>Font Size</label>
            <select id="fontSize">
                <option value="small">Small</option>
                <option value="medium" selected>Medium</option>
                <option value="large">Large</option>
            </select>
        </div>
        <div class="setting-item">
            <label>Language</label>
            <select id="language">
                <option value="en" selected>English</option>
                <option value="zh">中文</option>
            </select>
        </div>
    </main>

    <script>
        // Get language from URL or localStorage
        var urlParams = new URLSearchParams(window.location.search);
        var lang = urlParams.get('lang') || localStorage.getItem('language') || 'en';
        localStorage.setItem('language', lang);

        // Load saved settings
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark');
            document.getElementById('darkMode').checked = true;
        }

        var savedSize = localStorage.getItem('fontSize') || 'medium';
        document.body.classList.add(savedSize);
        document.getElementById('fontSize').value = savedSize;
        document.getElementById('language').value = lang;

        // Update nav links to include language
        function updateNavLinks() {
            var currentLang = document.getElementById('language').value;
            document.querySelectorAll('nav a').forEach(function(link) {
                link.href = link.href.split('?')[0] + '?lang=' + currentLang;
            });
        }
        updateNavLinks();

        // Chinese translations
        if (lang === 'zh') {
            document.querySelector('header h1').textContent = "Eli的中餐外卖";
            document.querySelector('header h4').textContent = "欢迎来到Eli的中餐外卖，这是唯一一家不存在但我们正在努力让它存在的中餐外卖。";
            document.querySelectorAll('nav a')[0].textContent = "首页";
            document.querySelectorAll('nav a')[1].textContent = "菜单";
            document.querySelectorAll('nav a')[2].textContent = "设置";
            document.querySelector('.content h2').textContent = "设置";
        }

        // Dark mode toggle
        document.getElementById('darkMode').addEventListener('change', function() {
            if (this.checked) {
                document.body.classList.add('dark');
                localStorage.setItem('darkMode', 'true');
            } else {
                document.body.classList.remove('dark');
                localStorage.setItem('darkMode', 'false');
            }
        });

        // Font size change
        document.getElementById('fontSize').addEventListener('change', function() {
            document.body.classList.remove('small', 'medium', 'large');
            document.body.classList.add(this.value);
            localStorage.setItem('fontSize', this.value);
        });

        // Language change
        document.getElementById('language').addEventListener('change', function() {
            localStorage.setItem('language', this.value);
            updateNavLinks();
            window.location.href = 'settings.html?lang=' + this.value;
        });
    </script>
</body>
</html>
